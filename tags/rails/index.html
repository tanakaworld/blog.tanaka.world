<!doctype html><html lang=ja dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>rails | For X Developers</title>
<meta name=keywords content>
<meta name=description content="Memorandom for me and &#34;X&#34; developers in the world.">
<meta name=author content>
<link rel=canonical href=https://blog.tanaka.world/tags/rails/>
<link href=/assets/css/stylesheet.min.335272112c5ae8060855442e7b7810ac57d7230ab0db265e1c9a6cd9cdf5af21.css integrity="sha256-M1JyESxa6AYIVUQue3gQrFfXIwqw2yZeHJps2c31ryE=" rel="preload stylesheet" as=style>
<link rel=icon href=https://blog.tanaka.world/favicon.png>
<link rel=icon type=image/png sizes=16x16 href=https://blog.tanaka.world/favicon.png>
<link rel=icon type=image/png sizes=32x32 href=https://blog.tanaka.world/favicon.png>
<link rel=apple-touch-icon href=https://blog.tanaka.world/favicon.png>
<link rel=mask-icon href=https://blog.tanaka.world/favicon.png>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.86.0">
<link rel=alternate type=application/rss+xml href=https://blog.tanaka.world/tags/rails/index.xml>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-122034388-1','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
<meta property="og:title" content="rails">
<meta property="og:description" content="Memorandom for me and &#34;X&#34; developers in the world.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://blog.tanaka.world/tags/rails/">
<meta property="og:image" content="https://blog.tanaka.world/cover.jpg">
<meta property="og:updated_time" content="2019-04-21T11:48:00+00:00"><meta property="og:site_name" content="For X Developers">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://blog.tanaka.world/cover.jpg">
<meta name=twitter:title content="rails">
<meta name=twitter:description content="Memorandom for me and &#34;X&#34; developers in the world.">
</head>
<body class=list id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<noscript>
<style type=text/css>.theme-toggle,.top-link{display:none}</style>
</noscript>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://blog.tanaka.world accesskey=h title="For X Developer (Alt + H)">
<img src=/favicon.png alt=logo aria-label=logo height=35>For X Developer</a>
<span class=logo-switches>
<span class=theme-toggle title="(Alt + T)">
<a id=theme-toggle accesskey=t><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</a>
</span>
<span class=lang-switch>
<span>|</span>
<ul>
<li>
<a href=https://blog.tanaka.world/en/ title=English aria-label=English>En</a>
</li>
</ul>
</span>
</span>
</div>
<ul class=menu id=menu onscroll=menu_on_scroll()>
<li>
<a href=https://blog.tanaka.world/tags/ title=Tags>
<span>Tags</span>
</a>
</li>
<li>
<a href=https://tanaka.world/ title=Author>
<span>Author</span>
</a>
</li>
<li>
<a href=https://blog.tanaka.world/index.xml title=RSS>
<span>RSS</span>
</a>
</li></ul>
</nav>
</header>
<main class=main>
<header class=page-header>
<h1>rails</h1>
</header>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>
Rails ã§ swagger-blocks ã¨ fastjson_api ã‚’çµ„ã¿åˆã‚ã›ã‚‹ (APIå®šç¾©ç·¨)
</h2>
</header>
<section class=entry-content>
<p>Rails ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå‘ã‘ã® APIClient ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ã¨ãã®æ§‹æˆã‚’è©¦ã—ã¦ã¿ãŸï¼ Swagger ã§è¨˜è¿°ã—ãŸ API å®šç¾©ã‹ã‚‰ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã™ã‚‹ä¾‹ã¯ã¡ã‚‰ã»ã‚‰è¦‹ã‹ã‘ã‚‹ãŒï¼ŒNetflix è£½ã® fast_jsonapi ã‚’ä½¿ã£ãŸè¨˜äº‹ã¯è¦‹ã‹ã‘ãªã‹ã£ãŸã®ã§ï¼Œã¾ã¨ã‚ã¦ãŠãï¼
å®Œæˆç‰ˆã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã“ã¡ã‚‰ ğŸ‘‰ tanakaworld/swagger-blocks-fastjson-api
TL;DR; Part1: APIå®šç¾©ç·¨ (æœ¬è¨˜äº‹)
Backend ã¯ Rails ã§ API ã‚’å®Ÿè£… JSON ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚¶ã¨ã—ã¦ï¼ŒNetflix è£½ã® fastjson_api API å®šç¾©ã¯ swagger-blocks ã‚’ä½¿ç”¨ Part2: ã‚³ãƒ¼ãƒ‰ç”Ÿæˆç·¨ (ä½œæˆä¸­)
openapi-generator ã§ TypeScript ã® APIClient ã‚’è‡ªå‹•ç”Ÿæˆ Part3: è‡ªå‹•ãƒ†ã‚¹ãƒˆç·¨ (ä½œæˆä¸­)
RSpec ã§ Reqeuests è‡ªå‹•ãƒ†ã‚¹ãƒˆ committee-rails ã§ Swagger å®šç¾©ã¨ã®æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ Scaffold Books æ›¸ç±æƒ…å ±ã® CRUD ã‚’é¡Œæã«è€ƒãˆã‚‹ï¼ Rails 6.0.0.beta3 ã‚’ä½¿ã£ãŸï¼
scaffold ã§ Books ã‚’ç”Ÿæˆã—ï¼Œç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã¯ Active Storage ã‚’ä½¿ã†ï¼...</p>
</section>
<footer class=entry-footer>April 21, 2019
</footer>
<a class=entry-link aria-label="post link to Rails ã§ swagger-blocks ã¨ fastjson_api ã‚’çµ„ã¿åˆã‚ã›ã‚‹ (APIå®šç¾©ç·¨)" href=https://blog.tanaka.world/swagger-blocks-with-fastjson-api-part1/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>
Rails5 / webpacker ã‚’ heroku ã§å‹•ã‹ã™
</h2>
</header>
<section class=entry-content>
<p>Rails ã®é–‹ç™ºç’°å¢ƒã‚’ã‚µã‚¯ãƒƒæ§‹ç¯‰ã™ã‚‹ãŸã‚ã« heroku ã‚’ä½¿ã£ãŸã¨ãã®ãƒ¡ãƒ¢ï¼
ç’°å¢ƒ Rails 5.1.6 Ruby 2.4.x MySQL Webpacker ã¤ã‹ã† Heroku CLI $ brew install heroku # if already installed $ brew upgrade heroku $ brew -v Heroku è¨­å®š herokuã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ ã‚¯ãƒ¬ã‚«ç™»éŒ²ï¼ˆå¾Œè¿°ã® MySQL å‘ã‘ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è¿½åŠ ã™ã‚‹ãŸã‚ã«å¿…è¦ï¼Free ãƒ—ãƒ©ãƒ³ã‚’é¸ã¹ã°èª²é‡‘ã¯ã•ã‚Œãªã„ï¼‰ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¿½åŠ  Configure Add-ons ã€ŒClear DBã€ã§æ¤œç´¢ã—ã¦é¸æŠ -> Provision Login heroku ã«ç™»éŒ²ã—ã¦ã„ã‚‹ email, password ã§ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ï¼
$ heroku login DB ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— å…ˆè¿°ã® ClearDB ã‚’ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã—ã¦è¿½åŠ ã—ã¦ã„ã‚‹ã¨ãã‚Œç”¨ã®ç’°å¢ƒå¤‰æ•°ãŒè¨­å®šã•ã‚Œã‚‹ï¼
$ heroku config -a &lt;your-app-name> === your-app-name Config Vars CLEARDB_DATABASE_URL: mysql://xxxxxxxxxxxxxx:xxxxxxxxxx@xxxxxxxxxxxxxxxx....</p>
</section>
<footer class=entry-footer>November 25, 2018
</footer>
<a class=entry-link aria-label="post link to Rails5 / webpacker ã‚’ heroku ã§å‹•ã‹ã™" href=https://blog.tanaka.world/rails5-webpacker-on-heroku/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>
How fast dev.to is?
</h2>
</header>
<section class=entry-content>
<p>ç¤¾å†…å‹‰å¼·ä¼šã§ dev.to ã«ã¤ã„ã¦è©±ã—ãŸï¼
mizuchi ã•ã‚“ã® ãªãœ dev.to ãŒã“ã‚“ãªã«ã‚‚é€Ÿãã€ã“ã‚“ãªã«ã‚‚è‡ªåˆ†ã«ã¨ã£ã¦æ„Ÿå‹•çš„ãªã®ã‹ ã¨ã„ã†è¨˜äº‹ã‚’çš®åˆ‡ã‚Šã«ï¼Œ2017 å¹´ã«æ—¥æœ¬ã§ã‚‚ãƒã‚ºã£ã¦ã„ãŸ Insanely Fast ãª Web ã‚µãƒ¼ãƒ“ã‚¹ï¼ä»Šå¹´ã® 8 æœˆã« OSS åŒ– ã•ã‚Œã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰èª­ã‚“ã§ãŸã‚‰é¢ç™½ãã†ã ã£ãŸã®ã§ï¼Œè©±ã—ã¦ã¿ã‚‹é‹ã³ã«ãªã£ãŸï¼
æ™®æ®µ Rails é–‹ç™ºã™ã‚‹ä¸Šã§ annict ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’å‚è€ƒã«ã•ã›ã¦ã‚‚ã‚‰ã£ã¦ã„ã‚‹ãŒï¼Œdev.to ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚‚ã¨ã¦ã‚‚å‚è€ƒã«ãªã‚Šãã†ã ã£ãŸï¼
æ™®æ®µã¯ Keynote ã§ã‚¹ãƒ©ã‚¤ãƒ‰ã¤ãã£ã¦ã„ã‚‹ãŒï¼Œä»Šå›ã¯ Google Slides ã§ã‚„ã£ã¦ã¿ãŸï¼Google Slides ã‚ˆã„ï¼å†…å®¹ã«ã‚‚ã‚ˆã‚‹ãŒï¼Œå‡ã£ãŸã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã‚„ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã—ãªã„ãªã‚‰ Google Slides ã§äº‹è¶³ã‚Šã‚‹æ„ŸãŒã‚ã£ãŸï¼ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ã„ï¼Œãƒã‚¹ã‚¿ã§è‰²å‘³ã ã‘èª¿æ•´ã—ãŸï¼ãƒã‚¹ã‚¿ã¯ä¿å­˜ã¯ã§ããªã„ãŒï¼Œã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã“ã¨ã¯ã§ãã‚‹ã®ã§ä»–ã®ã‚¹ãƒ©ã‚¤ãƒ‰ã§ã‚‚ä½¿ã†ã“ã¨ãŒã§ãã‚‹ï¼...</p>
</section>
<footer class=entry-footer>October 23, 2018
</footer>
<a class=entry-link aria-label="post link to How fast dev.to is?" href=https://blog.tanaka.world/how-fast-dev-to-is/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>
dev.to ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§å‹•ã‹ã™
</h2>
</header>
<section class=entry-content>
<p>2018/08/08 ã« dev.to ãŒ OSS åŒ–ã•ã‚ŒãŸï¼
dev.to is now open source
ã¨ã‚Šã‚ãˆãšãƒ­ãƒ¼ã‚«ãƒ«ã§å‹•ã‹ã™ã¾ã§ã«ã‚„ã£ãŸã“ã¨ã®ãƒ¡ãƒ¢ï¼
Getting Started Getting Started ãŒå……å®Ÿã—ã¦ã„ã‚‹ï¼ã»ã¼ãã®é€šã‚Šã«é€²ã‚ã‚Œã°å•é¡Œãªã„ï¼Ruby ã¯æœ€æ–°ç‰ˆãŒå¿…è¦ï¼ŒDB ã¯ PostgreSQLï¼é•·å¹´ Rails è§¦ã£ã¦ã„ã‚‹ãŒåœ°å‘³ã« PostgreSQL ä½¿ã£ãŸã“ã¨ãŒãªã‹ã£ãŸï¼
$ ruby -v => Ruby 2.5.1p57 (2018-03-29 revision 63029) [x86_64-darwin17] $ brew install postgresql $ postgres -V => postgres (PostgreSQL) 10.5 $ pg_ctl -D /usr/local/var/postgres start # Stop $ pg_ctl -D /usr/local/var/postgres stop $ gem install bundler $ gem install foreman foreman ã¯è¤‡æ•°ãƒ—ãƒ­ã‚»ã‚¹ã‚’ã¾ã¨ã‚ã¦ç®¡ç†ã§ãã‚‹ãƒ„ãƒ¼ãƒ«ï¼ ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œæ™‚ã¯
Rails ã‚µãƒ¼ãƒ (puma) Webpacker (webpackã®ãƒ©ãƒƒãƒ‘ãƒ¼ï¼Œwebpack ã®å®Ÿè¡Œã¨ hot-reload ãŒèµ°ã‚‹) Job (DelayedJob) ãŒå®Ÿè¡Œã•ã‚Œã‚‹ï¼...</p>
</section>
<footer class=entry-footer>September 3, 2018
</footer>
<a class=entry-link aria-label="post link to dev.to ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§å‹•ã‹ã™" href=https://blog.tanaka.world/run-dev-to-in-local/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>
Rails ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¯ã« OGP ç”»åƒã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ãƒãƒ³ã‚ºã‚ªãƒ³
</h2>
</header>
<section class=entry-content>
<p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è©³ç´°ãƒšãƒ¼ã‚¸ãŒã‚ã‚‹ Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ï¼Œãƒ¦ãƒ¼ã‚¶ãƒ¼æ¯ã« OGP ç”»åƒã‚’è‡ªå‹•ç”Ÿæˆã—è¡¨ç¤ºã•ã›ã¦ã¿ã‚‹ï¼
å®Œæˆç‰ˆã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã“ã¡ã‚‰ ğŸ‘‰ rails_ogp_generator_sampleï¼
å‰ææ¡ä»¶ Ruby 2.4.2 Rails 5.1.6 RMagic 2.16.0 Gem ç”»åƒç”Ÿæˆã§ rmagicï¼Œã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã« carrierwave ã‚’ä½¿ã†ï¼
# Gemfile gem 'rmagick' gem 'carrierwave' $ bundle install User ã® Scaffold ã‚’ä½œæˆ name ã¨ avatar ã‚’æŒã¤ãƒ¦ãƒ¼ã‚¶ãƒ¼ã® Scaffold ã‚’ä½œæˆã™ã‚‹ï¼
$ bundle exec rails g scaffold User name:string avatar:text # db/migrate/20180720144053_create_users.rb class CreateUsers &lt; ActiveRecord::Migration[5.1] def change create_table :users do |t| t.string :name, null: false t.text :avatar t.timestamps end end end $ bundle exec rails db:migrate UserOgpImage ãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆ User ã® OGP ç”»åƒã‚’ä¿æŒã™ã‚‹ãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆã™ã‚‹ï¼...</p>
</section>
<footer class=entry-footer>August 8, 2018
</footer>
<a class=entry-link aria-label="post link to Rails ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¯ã« OGP ç”»åƒã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ãƒãƒ³ã‚ºã‚ªãƒ³" href=https://blog.tanaka.world/rails-generate-ogp/></a>
</article>
<footer class=page-footer>
<nav class=pagination>
<a class=next href=https://blog.tanaka.world/tags/rails/page/2/>æ¬¡ã®ãƒšãƒ¼ã‚¸ Â»</a>
</nav>
</footer>
</main><footer class=footer>
<span>&copy; 2022 <a href=https://blog.tanaka.world>For X Developers</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)">
<button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</button>
</a>
<script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position"))},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.replaceState(null,null,`#${a}`)})});var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft)}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>